bundle:
  name: databricks_cicd_bundle

workspace:
  # dynamically builds the workspace path per environment
  root_path: /Workspace/main/${bundle.environment}/databricks_cicd

# Ignore folders that shouldn't be deployed to Databricks
files:
  exclude:
    - .github/**
    - bundle_config/**
    - .git/**
    - tests/**
    - docs/**
    - README.md
    - LICENSE
    - .gitignore
    - .databricksignore
    - **/__pycache__/**
    - **/*.pyc

# Define environments (modern DAB syntax)
environments:
  dev:
    default: true
    workspace:
      # host automatically taken from $DATABRICKS_HOST (GitHub Actions or local)
      root_path: /Workspace/main/dev/databricks_cicd
    imports:
      - bundle_config/dev.yml

  prod:
    workspace:
      root_path: /Workspace/main/prod/databricks_cicd
    imports:
      - bundle_config/prod.yml
