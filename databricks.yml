bundle:
  name: databricks_cicd_bundle

files:
  exclude:
    - .github/**
    - bundle_config/**
    - .git/**
    - tests/**
    - docs/**
    - README.md
    - LICENSE
    - .gitignore
    - .databricksignore
    - **/__pycache__/**
    - **/*.pyc
    
workspace:
  root_path: /Workspace/main/databricks_cicd/${bundle.environment}

environments:
  dev:
    default: true
    workspace:
      DATABRICKS_HOST: ${{ secrets.DEV_DEPLOYMENT_TARGET_URL }}
      DATABRICKS_TOKEN: ${{ secrets.DEV_DEPLOYMENT_TARGET_TOKEN }}
      root_path: /Workspace/main/databricks_cicd/dev
    imports:
      - bundle-config/dev.yml

  prod:
    workspace:
      DATABRICKS_HOST: ${{ secrets.PROD_DEPLOYMENT_TARGET_URL }}
      DATABRICKS_TOKEN: ${{ secrets.PROD_DEPLOYMENT_TARGET_TOKEN }}
      root_path: /Workspace/main/databricks_cicd/prod
    imports:
      - bundle-config/prod.yml
